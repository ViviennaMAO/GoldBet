# GoldBet - é»„é‡‘ä»·æ ¼é¢„æµ‹å°æ¸¸æˆ PRD

## 1. äº§å“æ¦‚è¿°

### 1.1 äº§å“å®šä½
GoldBetæ˜¯ä¸€æ¬¾åŸºäºLuffa SuperBoxå¹³å°çš„è½»é‡çº§é»„é‡‘ä»·æ ¼é¢„æµ‹å°æ¸¸æˆï¼Œç”¨æˆ·å¯ä»¥é¢„æµ‹é»„é‡‘ä»·æ ¼çš„æ¶¨è·Œè¶‹åŠ¿å’Œæ³¢åŠ¨å¹…åº¦ï¼Œé€šè¿‡æ¸¸æˆåŒ–çš„æ–¹å¼å‚ä¸é»„é‡‘å¸‚åœºçš„é¢„æµ‹æ´»åŠ¨ã€‚

### 1.2 ç›®æ ‡ç”¨æˆ·
- å¯¹é»„é‡‘å¸‚åœºæ„Ÿå…´è¶£çš„æŠ•èµ„çˆ±å¥½è€…
- å¸Œæœ›é€šè¿‡æ¸¸æˆæ–¹å¼äº†è§£é‡‘èå¸‚åœºçš„ç”¨æˆ·
- Luffaé’±åŒ…ç”¨æˆ·
- Web3/DeFiåº”ç”¨ä½“éªŒè€…

### 1.3 æ ¸å¿ƒä»·å€¼
- **æ— éœ€å®‰è£…**ï¼šåŸºäºSuperBoxå¹³å°ï¼Œç”¨æˆ·å³ç‚¹å³ç”¨
- **çœŸå®æ•°æ®**ï¼šæ¥å…¥çœŸå®é»„é‡‘å¸‚åœºä»·æ ¼æ•°æ®
- **ç®€å•æœ‰è¶£**ï¼šé™ä½é‡‘èå¸‚åœºå‚ä¸é—¨æ§›ï¼Œæ¸¸æˆåŒ–ä½“éªŒ
- **å»ä¸­å¿ƒåŒ–**ï¼šåŸºäºLuffaé’±åŒ…èº«ä»½ç³»ç»Ÿ

---

## 2. åŠŸèƒ½éœ€æ±‚

### 2.1 æ ¸å¿ƒåŠŸèƒ½

#### 2.1.1 ç”¨æˆ·ç™»å½•ä¸èº«ä»½éªŒè¯
**å¿…éœ€åŠŸèƒ½**ï¼šå°ç¨‹åºå¯åŠ¨æ—¶å¿…é¡»è°ƒç”¨Luffaé’±åŒ…ç™»å½•

**åŠŸèƒ½æè¿°**ï¼š
- å°ç¨‹åºå¯åŠ¨æ—¶è‡ªåŠ¨è§¦å‘Luffaé’±åŒ…è¿æ¥
- ç”¨æˆ·æˆæƒåè·å–é’±åŒ…åœ°å€ä½œä¸ºå”¯ä¸€èº«ä»½æ ‡è¯†
- æœªç™»å½•ç”¨æˆ·æ— æ³•è¿›è¡Œé¢„æµ‹æ“ä½œ
- æ”¯æŒæ–­çº¿é‡è¿å’Œä¼šè¯ä¿æŒ

**æŠ€æœ¯è¦ç‚¹**ï¼š
```javascript
// é¢„æœŸAPIè°ƒç”¨æ–¹å¼ï¼ˆå¾…ç¡®è®¤å®é™…APIï¼‰
wx.login({
  success: function(res) {
    // è·å–ç”¨æˆ·æˆæƒ
    wx.getUserInfo({
      success: function(userInfo) {
        // è·å–é’±åŒ…åœ°å€ç­‰ä¿¡æ¯
      }
    })
  }
})
```

#### 2.1.2 é»„é‡‘ä»·æ ¼æ•°æ®å±•ç¤º
**åŠŸèƒ½æè¿°**ï¼š
- å±•ç¤ºå½“å‰é»„é‡‘ç°è´§ä»·æ ¼ï¼ˆå®æ—¶æˆ–å‡†å®æ—¶ï¼‰
- å±•ç¤ºä»Šæ—¥å¼€ç›˜ä»·ã€æœ€é«˜ä»·ã€æœ€ä½ä»·ã€æ”¶ç›˜ä»·ï¼ˆæ”¶ç›˜åï¼‰
- å±•ç¤ºæ˜¨æ—¥æ”¶ç›˜ä»·ä½œä¸ºå¯¹æ¯”åŸºå‡†
- ä»·æ ¼æ•°æ®æ¥æºï¼šç¬¬ä¸‰æ–¹é‡‘èæ•°æ®APIï¼ˆå¦‚Alpha Vantageã€é‡‘ä»·ç½‘APIç­‰ï¼‰

**æ•°æ®æ›´æ–°é¢‘ç‡**ï¼š
- äº¤æ˜“æ—¶æ®µï¼šæ¯5-15åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡
- éäº¤æ˜“æ—¶æ®µï¼šæ˜¾ç¤ºæœ€åæ”¶ç›˜ä»·

**å±•ç¤ºå†…å®¹**ï¼š
```
å½“å‰ä»·æ ¼ï¼š$2,045.50 USD/ç›å¸
æ˜¨æ—¥æ”¶ç›˜ï¼š$2,038.20 USD/ç›å¸
ä»Šæ—¥å˜åŠ¨ï¼š+$7.30 (+0.36%) â†‘
```

#### 2.1.3 æ¶¨è·Œé¢„æµ‹åŠŸèƒ½
**é¢„æµ‹é—®é¢˜**ï¼šæ˜å¤©æ”¶ç›˜æ—¶çš„ä»·æ ¼æ¯”ä»Šå¤©æ”¶ç›˜æ—¶çš„ä»·æ ¼é«˜è¿˜æ˜¯ä½ï¼Ÿ

**é€‰é¡¹**ï¼š
- ğŸ“ˆ çœ‹æ¶¨ï¼ˆé¢„æµ‹æ˜å¤©æ”¶ç›˜ä»· > ä»Šå¤©æ”¶ç›˜ä»·ï¼‰
- ğŸ“‰ çœ‹è·Œï¼ˆé¢„æµ‹æ˜å¤©æ”¶ç›˜ä»· < ä»Šå¤©æ”¶ç›˜ä»·ï¼‰

**é¢„æµ‹è§„åˆ™**ï¼š
- æ¯ä¸ªç”¨æˆ·æ¯å¤©åªèƒ½æäº¤ä¸€æ¬¡æ¶¨è·Œé¢„æµ‹
- é¢„æµ‹æˆªæ­¢æ—¶é—´ï¼šå½“æ—¥æ”¶ç›˜å‰ï¼ˆå¦‚åŒ—äº¬æ—¶é—´å‡Œæ™¨4:00ï¼Œä¾é»„é‡‘å¸‚åœºäº¤æ˜“æ—¶é—´è€Œå®šï¼‰
- æ¬¡æ—¥æ”¶ç›˜åè‡ªåŠ¨ç»“ç®—é¢„æµ‹ç»“æœ

**ç»“æœåˆ¤å®š**ï¼š
```
é¢„æµ‹ä»·æ ¼ = ä»Šæ—¥æ”¶ç›˜ä»·
å®é™…ä»·æ ¼ = æ˜æ—¥æ”¶ç›˜ä»·

if (å®é™…ä»·æ ¼ > é¢„æµ‹ä»·æ ¼ && ç”¨æˆ·é€‰æ‹©çœ‹æ¶¨) => é¢„æµ‹æ­£ç¡®
if (å®é™…ä»·æ ¼ < é¢„æµ‹ä»·æ ¼ && ç”¨æˆ·é€‰æ‹©çœ‹è·Œ) => é¢„æµ‹æ­£ç¡®
if (å®é™…ä»·æ ¼ == é¢„æµ‹ä»·æ ¼) => å¹³å±€ï¼ˆç½•è§æƒ…å†µï¼‰
```

#### 2.1.4 æ³¢åŠ¨å¹…åº¦é¢„æµ‹åŠŸèƒ½
**é¢„æµ‹é—®é¢˜**ï¼šé¢„æµ‹æ˜å¤©é»„é‡‘ä»·æ ¼äº¤æ˜“æ—¶æ®µæ³¢åŠ¨çš„å¹…åº¦

**é€‰é¡¹**ï¼š
- ğŸŸ¢ å°å¹…æ³¢åŠ¨ï¼ˆ< 0.5%ï¼‰
- ğŸŸ¡ ä¸­åº¦æ³¢åŠ¨ï¼ˆ0.5% - 2%ï¼‰
- ğŸ”´ å¤§å¹…æ³¢åŠ¨ï¼ˆ> 2%ï¼‰

**æ³¢åŠ¨å¹…åº¦è®¡ç®—å…¬å¼**ï¼š
```
æ—¥å†…æ³¢åŠ¨å¹…åº¦ = |å½“æ—¥æœ€é«˜ä»· - å½“æ—¥æœ€ä½ä»·| / å½“æ—¥å¼€ç›˜ä»· Ã— 100%
```

**é¢„æµ‹è§„åˆ™**ï¼š
- æ¯ä¸ªç”¨æˆ·æ¯å¤©åªèƒ½æäº¤ä¸€æ¬¡æ³¢åŠ¨å¹…åº¦é¢„æµ‹
- é¢„æµ‹æˆªæ­¢æ—¶é—´ï¼šä¸æ¶¨è·Œé¢„æµ‹ç›¸åŒ
- æ¬¡æ—¥äº¤æ˜“ç»“æŸåè‡ªåŠ¨ç»“ç®—

**ç»“æœåˆ¤å®šç¤ºä¾‹**ï¼š
```
å¼€ç›˜ä»·ï¼š$2,040
æœ€é«˜ä»·ï¼š$2,055
æœ€ä½ä»·ï¼š$2,038

æ³¢åŠ¨å¹…åº¦ = |2055 - 2038| / 2040 Ã— 100% = 0.83%
=> åˆ¤å®šä¸º"ä¸­åº¦æ³¢åŠ¨"
```

#### 2.1.5 é¢„æµ‹è®°å½•ä¸å†å²
**åŠŸèƒ½æè¿°**ï¼š
- å±•ç¤ºç”¨æˆ·çš„å†å²é¢„æµ‹è®°å½•
- æ˜¾ç¤ºæ¯æ¬¡é¢„æµ‹çš„ç»“æœï¼ˆæ­£ç¡®/é”™è¯¯ï¼‰
- ç»Ÿè®¡é¢„æµ‹å‡†ç¡®ç‡

**å±•ç¤ºå†…å®¹**ï¼š
```
æˆ‘çš„é¢„æµ‹è®°å½•
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ€»é¢„æµ‹æ¬¡æ•°ï¼š15æ¬¡
æ­£ç¡®æ¬¡æ•°ï¼š9æ¬¡
å‡†ç¡®ç‡ï¼š60%

æœ€è¿‘é¢„æµ‹ï¼š
2026-01-16
æ¶¨è·Œï¼šçœ‹æ¶¨ âœ… æ­£ç¡®
æ³¢åŠ¨ï¼šä¸­åº¦ âœ… æ­£ç¡®

2026-01-15
æ¶¨è·Œï¼šçœ‹è·Œ âŒ é”™è¯¯
æ³¢åŠ¨ï¼šå°å¹… âœ… æ­£ç¡®
```

#### 2.1.6 ç§¯åˆ†/æˆå°±ç³»ç»Ÿï¼ˆå¯é€‰åŠŸèƒ½ï¼‰
**åŠŸèƒ½æè¿°**ï¼š
- é¢„æµ‹æ­£ç¡®è·å¾—ç§¯åˆ†
- è¿ç»­é¢„æµ‹æ­£ç¡®è·å¾—è¿èƒœå¥–åŠ±
- ç§¯åˆ†æ’è¡Œæ¦œ
- æˆå°±å¾½ç« ç³»ç»Ÿ

**ç§¯åˆ†è§„åˆ™**ï¼š
- æ¶¨è·Œé¢„æµ‹æ­£ç¡®ï¼š+10åˆ†
- æ³¢åŠ¨é¢„æµ‹æ­£ç¡®ï¼š+5åˆ†
- è¿ç»­3å¤©é¢„æµ‹æ­£ç¡®ï¼šé¢å¤–+20åˆ†
- è¿ç»­7å¤©é¢„æµ‹æ­£ç¡®ï¼šé¢å¤–+100åˆ†

### 2.2 è¾…åŠ©åŠŸèƒ½

#### 2.2.1 å¸‚åœºèµ„è®¯ï¼ˆå¯é€‰ï¼‰
- å±•ç¤ºé»„é‡‘å¸‚åœºç›¸å…³æ–°é—»
- å±•ç¤ºå½±å“é‡‘ä»·çš„é‡è¦ç»æµæ•°æ®ï¼ˆå¦‚ç¾è”å‚¨åˆ©ç‡å†³è®®ã€éå†œæ•°æ®ç­‰ï¼‰

#### 2.2.2 é¢„æµ‹æç¤ºï¼ˆå¯é€‰ï¼‰
- å±•ç¤ºå½“å‰å¸‚åœºæƒ…ç»ªæŒ‡æ ‡
- å±•ç¤ºå…¶ä»–ç”¨æˆ·çš„é¢„æµ‹å€¾å‘ï¼ˆçœ‹æ¶¨/çœ‹è·Œæ¯”ä¾‹ï¼‰

#### 2.2.3 åˆ†äº«åŠŸèƒ½
- åˆ†äº«ä¸ªäººé¢„æµ‹æˆç»©åˆ°ç¤¾äº¤å¹³å°
- é‚€è¯·å¥½å‹ä¸€èµ·å‚ä¸

---

## 3. é¡µé¢ç»“æ„

### 3.1 é¡µé¢åˆ—è¡¨

#### 3.1.1 é¦–é¡µï¼ˆHomeï¼‰
**è·¯å¾„**ï¼š`pages/index/index`

**ä¸»è¦å†…å®¹**ï¼š
- Luffaé’±åŒ…ç™»å½•çŠ¶æ€æ˜¾ç¤º
- å½“å‰é»„é‡‘ä»·æ ¼å¡ç‰‡
- ä»Šæ—¥é¢„æµ‹å…¥å£
- æˆ‘çš„é¢„æµ‹è®°å½•å…¥å£

#### 3.1.2 é¢„æµ‹é¡µï¼ˆPredictï¼‰
**è·¯å¾„**ï¼š`pages/predict/predict`

**ä¸»è¦å†…å®¹**ï¼š
- ä»·æ ¼æ•°æ®å±•ç¤ºåŒº
- æ¶¨è·Œé¢„æµ‹é€‰æ‹©åŒº
- æ³¢åŠ¨å¹…åº¦é¢„æµ‹é€‰æ‹©åŒº
- æäº¤é¢„æµ‹æŒ‰é’®
- å€’è®¡æ—¶ï¼ˆè·ç¦»é¢„æµ‹æˆªæ­¢ï¼‰

#### 3.1.3 å†å²è®°å½•é¡µï¼ˆHistoryï¼‰
**è·¯å¾„**ï¼š`pages/history/history`

**ä¸»è¦å†…å®¹**ï¼š
- é¢„æµ‹ç»Ÿè®¡æ•°æ®
- å†å²é¢„æµ‹åˆ—è¡¨
- å‡†ç¡®ç‡å›¾è¡¨

#### 3.1.4 æ’è¡Œæ¦œé¡µï¼ˆLeaderboardï¼‰ï¼ˆå¯é€‰ï¼‰
**è·¯å¾„**ï¼š`pages/leaderboard/leaderboard`

**ä¸»è¦å†…å®¹**ï¼š
- ç§¯åˆ†æ’è¡Œæ¦œ
- å‡†ç¡®ç‡æ’è¡Œæ¦œ
- è¿èƒœæ¦œ

### 3.2 é¡µé¢æµç¨‹å›¾

```
å¯åŠ¨å°ç¨‹åº
    â†“
è°ƒç”¨Luffaé’±åŒ…ç™»å½•
    â†“
[æœªç™»å½•] â†’ å¼•å¯¼ç™»å½• â†’ [ç™»å½•æˆåŠŸ]
    â†“
é¦–é¡µ
    â†“
[ä»Šæ—¥é¢„æµ‹] â†’ é¢„æµ‹é¡µ â†’ æäº¤é¢„æµ‹ â†’ é¦–é¡µ
    â†“
[å†å²è®°å½•] â†’ å†å²è®°å½•é¡µ
    â†“
[æ’è¡Œæ¦œ] â†’ æ’è¡Œæ¦œé¡µ
```

---

## 4. æ•°æ®ç»“æ„è®¾è®¡

### 4.1 ç”¨æˆ·æ•°æ®
```javascript
{
  userId: "0x1234...abcd", // é’±åŒ…åœ°å€
  username: "User123", // ç”¨æˆ·åï¼ˆå¯é€‰ï¼‰
  totalPredictions: 15, // æ€»é¢„æµ‹æ¬¡æ•°
  correctPredictions: 9, // æ­£ç¡®æ¬¡æ•°
  accuracy: 60, // å‡†ç¡®ç‡ï¼ˆ%ï¼‰
  points: 150, // ç§¯åˆ†
  consecutiveWins: 3, // å½“å‰è¿èƒœæ¬¡æ•°
  createdAt: "2026-01-01T00:00:00Z"
}
```

### 4.2 é¢„æµ‹è®°å½•
```javascript
{
  predictionId: "pred_001",
  userId: "0x1234...abcd",
  date: "2026-01-16", // é¢„æµ‹æ—¥æœŸ
  priceDirection: "up", // up/down
  volatility: "medium", // small/medium/large
  basePrice: 2038.20, // åŸºå‡†ä»·æ ¼ï¼ˆé¢„æµ‹æ—¶çš„æ”¶ç›˜ä»·ï¼‰
  resultPrice: 2045.50, // å®é™…æ”¶ç›˜ä»·
  resultVolatility: 0.83, // å®é™…æ³¢åŠ¨å¹…åº¦ï¼ˆ%ï¼‰
  directionCorrect: true, // æ¶¨è·Œé¢„æµ‹æ˜¯å¦æ­£ç¡®
  volatilityCorrect: true, // æ³¢åŠ¨é¢„æµ‹æ˜¯å¦æ­£ç¡®
  pointsEarned: 15, // è·å¾—ç§¯åˆ†
  status: "settled", // pending/settled
  createdAt: "2026-01-16T10:30:00Z",
  settledAt: "2026-01-17T05:00:00Z"
}
```

### 4.3 é»„é‡‘ä»·æ ¼æ•°æ®
```javascript
{
  date: "2026-01-16",
  openPrice: 2040.00,
  highPrice: 2055.20,
  lowPrice: 2038.10,
  closePrice: 2045.50,
  previousClose: 2038.20,
  timestamp: "2026-01-17T04:00:00Z"
}
```

---

## 5. æŠ€æœ¯å®ç°

### 5.1 æŠ€æœ¯æ ˆ

**å‰ç«¯**ï¼š
- Luffa SuperBox å°ç¨‹åºæ¡†æ¶ï¼ˆåŸºäºå¾®ä¿¡å°ç¨‹åºæ ‡å‡†ï¼‰
- WXML + WXSS + JavaScript
- Chart.js æˆ– EChartsï¼ˆå›¾è¡¨å±•ç¤ºï¼‰

**åç«¯**ï¼š
- Node.js + Express / Koa
- æ•°æ®åº“ï¼šMongoDB / PostgreSQL
- å®šæ—¶ä»»åŠ¡ï¼šnode-cronï¼ˆä»·æ ¼æ•°æ®è·å–ã€ç»“ç®—ä»»åŠ¡ï¼‰

**ç¬¬ä¸‰æ–¹æœåŠ¡**ï¼š
- é»„é‡‘ä»·æ ¼æ•°æ®APIï¼šAlpha Vantage / Metals-API / é‡‘ä»·ç½‘API
- Luffa Wallet SDKï¼ˆèº«ä»½éªŒè¯ï¼‰

### 5.2 æ ¸å¿ƒæŠ€æœ¯æµç¨‹

#### 5.2.1 Luffaé’±åŒ…ç™»å½•æµç¨‹
```javascript
// app.js
App({
  onLaunch: function() {
    // å°ç¨‹åºå¯åŠ¨æ—¶è°ƒç”¨Luffaé’±åŒ…ç™»å½•
    this.loginWithLuffaWallet();
  },

  loginWithLuffaWallet: function() {
    wx.login({
      success: (res) => {
        if (res.code) {
          // å‘é€codeåˆ°åç«¯æ¢å–session
          wx.request({
            url: 'https://api.goldbet.com/auth/login',
            method: 'POST',
            data: { code: res.code },
            success: (response) => {
              // ä¿å­˜ç”¨æˆ·session
              wx.setStorageSync('userToken', response.data.token);
              wx.setStorageSync('walletAddress', response.data.walletAddress);
            }
          });
        }
      },
      fail: (err) => {
        wx.showModal({
          title: 'ç™»å½•å¤±è´¥',
          content: 'è¯·æˆæƒLuffaé’±åŒ…ç™»å½•ä»¥ä½¿ç”¨æœ¬åº”ç”¨',
          showCancel: false
        });
      }
    });
  }
});
```

#### 5.2.2 ä»·æ ¼æ•°æ®è·å–æµç¨‹
```javascript
// åç«¯å®šæ—¶ä»»åŠ¡ï¼ˆæ¯15åˆ†é’Ÿæ‰§è¡Œï¼‰
const cron = require('node-cron');

cron.schedule('*/15 * * * *', async () => {
  const priceData = await fetchGoldPrice();
  await savePriceData(priceData);

  // æ£€æŸ¥æ˜¯å¦åˆ°æ”¶ç›˜æ—¶é—´ï¼Œæ‰§è¡Œç»“ç®—
  if (isMarketClosed()) {
    await settlePredictions();
  }
});

async function fetchGoldPrice() {
  const response = await fetch('https://api.metals.dev/v1/latest?base=USD&symbols=XAU');
  const data = await response.json();
  return {
    price: data.rates.XAU,
    timestamp: new Date()
  };
}
```

#### 5.2.3 é¢„æµ‹æäº¤æµç¨‹
```javascript
// pages/predict/predict.js
Page({
  data: {
    currentPrice: 0,
    direction: '', // 'up' or 'down'
    volatility: '' // 'small', 'medium', 'large'
  },

  submitPrediction: function() {
    const token = wx.getStorageSync('userToken');

    wx.request({
      url: 'https://api.goldbet.com/predictions/submit',
      method: 'POST',
      header: {
        'Authorization': `Bearer ${token}`
      },
      data: {
        direction: this.data.direction,
        volatility: this.data.volatility,
        basePrice: this.data.currentPrice
      },
      success: (res) => {
        wx.showToast({
          title: 'é¢„æµ‹æäº¤æˆåŠŸ',
          icon: 'success'
        });
        wx.navigateBack();
      },
      fail: (err) => {
        wx.showToast({
          title: 'æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•',
          icon: 'error'
        });
      }
    });
  }
});
```

#### 5.2.4 é¢„æµ‹ç»“ç®—æµç¨‹
```javascript
// åç«¯ç»“ç®—é€»è¾‘
async function settlePredictions() {
  const today = new Date().toISOString().split('T')[0];
  const yesterdayPredictions = await getPendingPredictions(today);
  const todayPriceData = await getTodayPriceData();

  for (const prediction of yesterdayPredictions) {
    const directionCorrect = checkDirectionPrediction(
      prediction.priceDirection,
      prediction.basePrice,
      todayPriceData.closePrice
    );

    const volatilityCorrect = checkVolatilityPrediction(
      prediction.volatility,
      todayPriceData
    );

    const pointsEarned = calculatePoints(directionCorrect, volatilityCorrect);

    await updatePrediction(prediction.id, {
      resultPrice: todayPriceData.closePrice,
      resultVolatility: calculateVolatility(todayPriceData),
      directionCorrect,
      volatilityCorrect,
      pointsEarned,
      status: 'settled',
      settledAt: new Date()
    });

    await updateUserPoints(prediction.userId, pointsEarned);
  }
}

function calculateVolatility(priceData) {
  return Math.abs(priceData.highPrice - priceData.lowPrice) / priceData.openPrice * 100;
}
```

### 5.3 é¡¹ç›®æ–‡ä»¶ç»“æ„

```
GoldBet/
â”œâ”€â”€ app.js                 # å°ç¨‹åºå…¥å£
â”œâ”€â”€ app.json              # å…¨å±€é…ç½®
â”œâ”€â”€ app.wxss              # å…¨å±€æ ·å¼
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index/            # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ index.json
â”‚   â”‚   â”œâ”€â”€ index.wxml
â”‚   â”‚   â””â”€â”€ index.wxss
â”‚   â”œâ”€â”€ predict/          # é¢„æµ‹é¡µ
â”‚   â”‚   â”œâ”€â”€ predict.js
â”‚   â”‚   â”œâ”€â”€ predict.json
â”‚   â”‚   â”œâ”€â”€ predict.wxml
â”‚   â”‚   â””â”€â”€ predict.wxss
â”‚   â”œâ”€â”€ history/          # å†å²è®°å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ history.js
â”‚   â”‚   â”œâ”€â”€ history.json
â”‚   â”‚   â”œâ”€â”€ history.wxml
â”‚   â”‚   â””â”€â”€ history.wxss
â”‚   â””â”€â”€ leaderboard/      # æ’è¡Œæ¦œé¡µï¼ˆå¯é€‰ï¼‰
â”‚       â”œâ”€â”€ leaderboard.js
â”‚       â”œâ”€â”€ leaderboard.json
â”‚       â”œâ”€â”€ leaderboard.wxml
â”‚       â””â”€â”€ leaderboard.wxss
â”œâ”€â”€ components/           # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ price-card/       # ä»·æ ¼å±•ç¤ºå¡ç‰‡
â”‚   â””â”€â”€ prediction-item/  # é¢„æµ‹è®°å½•é¡¹
â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ api.js           # APIè¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ auth.js          # è®¤è¯ç›¸å…³
â”‚   â””â”€â”€ util.js          # é€šç”¨å·¥å…·å‡½æ•°
â””â”€â”€ images/               # å›¾ç‰‡èµ„æº
    â”œâ”€â”€ icon-up.png
    â”œâ”€â”€ icon-down.png
    â””â”€â”€ logo.png
```

---

## 6. APIè®¾è®¡

### 6.1 ç”¨æˆ·è®¤è¯

#### POST /auth/login
**æè¿°**ï¼šLuffaé’±åŒ…ç™»å½•

**è¯·æ±‚**ï¼š
```json
{
  "code": "luffa_auth_code_xxx"
}
```

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": {
    "token": "jwt_token_xxx",
    "walletAddress": "0x1234...abcd",
    "userId": "user_001"
  }
}
```

### 6.2 ä»·æ ¼æ•°æ®

#### GET /prices/current
**æè¿°**ï¼šè·å–å½“å‰é»„é‡‘ä»·æ ¼

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": {
    "currentPrice": 2045.50,
    "previousClose": 2038.20,
    "change": 7.30,
    "changePercent": 0.36,
    "updateTime": "2026-01-16T14:30:00Z"
  }
}
```

#### GET /prices/today
**æè¿°**ï¼šè·å–ä»Šæ—¥ä»·æ ¼æ•°æ®

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": {
    "date": "2026-01-16",
    "openPrice": 2040.00,
    "highPrice": 2055.20,
    "lowPrice": 2038.10,
    "closePrice": 2045.50,
    "previousClose": 2038.20
  }
}
```

### 6.3 é¢„æµ‹ç®¡ç†

#### POST /predictions/submit
**æè¿°**ï¼šæäº¤é¢„æµ‹

**è¯·æ±‚å¤´**ï¼š
```
Authorization: Bearer {token}
```

**è¯·æ±‚**ï¼š
```json
{
  "direction": "up",
  "volatility": "medium",
  "basePrice": 2045.50
}
```

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": {
    "predictionId": "pred_001",
    "message": "é¢„æµ‹æäº¤æˆåŠŸ"
  }
}
```

#### GET /predictions/my
**æè¿°**ï¼šè·å–æˆ‘çš„é¢„æµ‹è®°å½•

**è¯·æ±‚å¤´**ï¼š
```
Authorization: Bearer {token}
```

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": {
    "total": 15,
    "correct": 9,
    "accuracy": 60,
    "predictions": [
      {
        "date": "2026-01-16",
        "direction": "up",
        "directionCorrect": true,
        "volatility": "medium",
        "volatilityCorrect": true,
        "pointsEarned": 15,
        "status": "settled"
      }
    ]
  }
}
```

#### GET /predictions/today
**æè¿°**ï¼šæ£€æŸ¥ä»Šæ—¥æ˜¯å¦å·²é¢„æµ‹

**è¯·æ±‚å¤´**ï¼š
```
Authorization: Bearer {token}
```

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": {
    "hasPredicted": true,
    "prediction": {
      "direction": "up",
      "volatility": "medium",
      "createdAt": "2026-01-16T10:30:00Z"
    }
  }
}
```

### 6.4 ç”¨æˆ·ç»Ÿè®¡

#### GET /users/stats
**æè¿°**ï¼šè·å–ç”¨æˆ·ç»Ÿè®¡æ•°æ®

**è¯·æ±‚å¤´**ï¼š
```
Authorization: Bearer {token}
```

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": {
    "totalPredictions": 15,
    "correctPredictions": 9,
    "accuracy": 60,
    "points": 150,
    "consecutiveWins": 3,
    "rank": 42
  }
}
```

### 6.5 æ’è¡Œæ¦œï¼ˆå¯é€‰ï¼‰

#### GET /leaderboard/points
**æè¿°**ï¼šç§¯åˆ†æ’è¡Œæ¦œ

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": [
    {
      "rank": 1,
      "userId": "0xaaa...111",
      "username": "GoldMaster",
      "points": 2500
    },
    {
      "rank": 2,
      "userId": "0xbbb...222",
      "username": "Trader123",
      "points": 2100
    }
  ]
}
```

---

## 7. UI/UXè®¾è®¡è¦ç‚¹

### 7.1 è®¾è®¡é£æ ¼
- **ä¸»è‰²è°ƒ**ï¼šé‡‘è‰²ï¼ˆ#FFD700ï¼‰ã€æ·±è“è‰²ï¼ˆ#1E3A8Aï¼‰
- **é£æ ¼**ï¼šç°ä»£ã€ç®€æ´ã€é‡‘èæ„Ÿ
- **å­—ä½“**ï¼šæ•°å­—ä½¿ç”¨ç­‰å®½å­—ä½“ï¼Œä¸­æ–‡ä½¿ç”¨ç³»ç»Ÿé»˜è®¤

### 7.2 å…³é”®é¡µé¢çº¿æ¡†å›¾

#### é¦–é¡µå¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Logo] GoldBet         â”‚
â”‚  ğŸ”— 0x1234...abcd       â”‚ <- é’±åŒ…åœ°å€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚  â¬› å½“å‰é‡‘ä»·å¡ç‰‡          â”‚
â”‚  $2,045.50              â”‚
â”‚  +$7.30 (+0.36%) â†‘     â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š ä»Šæ—¥é¢„æµ‹             â”‚
â”‚  [ç«‹å³é¢„æµ‹ â†’]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“œ æˆ‘çš„è®°å½•             â”‚
â”‚  å‡†ç¡®ç‡: 60% (9/15)     â”‚
â”‚  [æŸ¥çœ‹è¯¦æƒ… â†’]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ† æ’è¡Œæ¦œ               â”‚
â”‚  å½“å‰æ’å: #42          â”‚
â”‚  [æŸ¥çœ‹æ’è¡Œ â†’]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é¢„æµ‹é¡µå¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  < æ˜æ—¥é¢„æµ‹              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å½“å‰ä»·æ ¼                 â”‚
â”‚  $2,045.50              â”‚
â”‚  åŸºå‡†: ä»Šæ—¥æ”¶ç›˜ä»·         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é¢„æµ‹æ¶¨è·Œ                 â”‚
â”‚  [ ğŸ“ˆ çœ‹æ¶¨ ] [ ğŸ“‰ çœ‹è·Œ ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é¢„æµ‹æ³¢åŠ¨å¹…åº¦              â”‚
â”‚  [ğŸŸ¢ å°å¹…] [ğŸŸ¡ ä¸­åº¦] [ğŸ”´ å¤§å¹…]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â± å‰©ä½™æ—¶é—´: 14:23:15   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     [æäº¤é¢„æµ‹]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 äº¤äº’è®¾è®¡
- é¢„æµ‹æŒ‰é’®é€‰ä¸­çŠ¶æ€æ˜æ˜¾ï¼ˆé«˜äº®ã€è¾¹æ¡†åŠ ç²—ï¼‰
- æäº¤æˆåŠŸåæ˜¾ç¤ºToastæç¤º
- å·²é¢„æµ‹çŠ¶æ€æ˜¾ç¤ºç°è‰²ç¦ç”¨æŒ‰é’®
- ä»·æ ¼æ•°æ®åˆ·æ–°æ—¶æ˜¾ç¤ºåŠ è½½åŠ¨ç”»

---

## 8. å¼€å‘è®¡åˆ’

### 8.1 MVPåŠŸèƒ½ï¼ˆç¬¬ä¸€ç‰ˆï¼‰
**ä¼˜å…ˆçº§ï¼šP0**
- âœ… Luffaé’±åŒ…ç™»å½•
- âœ… é»„é‡‘ä»·æ ¼æ•°æ®å±•ç¤º
- âœ… æ¶¨è·Œé¢„æµ‹åŠŸèƒ½
- âœ… æ³¢åŠ¨å¹…åº¦é¢„æµ‹åŠŸèƒ½
- âœ… åŸºç¡€é¢„æµ‹è®°å½•æŸ¥çœ‹

**å¼€å‘å‘¨æœŸ**ï¼š2-3å‘¨

### 8.2 å®Œæ•´åŠŸèƒ½ï¼ˆç¬¬äºŒç‰ˆï¼‰
**ä¼˜å…ˆçº§ï¼šP1**
- âœ… ç”¨æˆ·ç»Ÿè®¡æ•°æ®
- âœ… å†å²è®°å½•è¯¦ç»†é¡µ
- âœ… ç§¯åˆ†ç³»ç»Ÿ
- âœ… è¿èƒœå¥–åŠ±
- âœ… æ’è¡Œæ¦œ

**å¼€å‘å‘¨æœŸ**ï¼š2å‘¨

### 8.3 å¢å¼ºåŠŸèƒ½ï¼ˆç¬¬ä¸‰ç‰ˆï¼‰
**ä¼˜å…ˆçº§ï¼šP2**
- å¸‚åœºèµ„è®¯å±•ç¤º
- é¢„æµ‹æç¤ºåŠŸèƒ½
- åˆ†äº«åŠŸèƒ½
- æˆå°±å¾½ç« ç³»ç»Ÿ
- æ•°æ®å¯è§†åŒ–å›¾è¡¨

**å¼€å‘å‘¨æœŸ**ï¼š1-2å‘¨

---

## 9. é£é™©ä¸æŒ‘æˆ˜

### 9.1 æŠ€æœ¯é£é™©
| é£é™©é¡¹ | å½±å“ | è§£å†³æ–¹æ¡ˆ |
|--------|------|----------|
| Luffaé’±åŒ…ç™»å½•APIæ–‡æ¡£ä¸å®Œæ•´ | é«˜ | è”ç³»Luffaå®˜æ–¹è·å–è¯¦ç»†æ–‡æ¡£ï¼Œæˆ–æŸ¥çœ‹ç¤ºä¾‹é¡¹ç›® |
| é»„é‡‘ä»·æ ¼æ•°æ®æºç¨³å®šæ€§ | ä¸­ | å‡†å¤‡å¤šä¸ªå¤‡ç”¨æ•°æ®æºï¼Œå®ç°è‡ªåŠ¨åˆ‡æ¢ |
| æ”¶ç›˜æ—¶é—´åˆ¤å®šå¤æ‚æ€§ | ä¸­ | å‚è€ƒå›½é™…é»„é‡‘å¸‚åœºäº¤æ˜“æ—¶é—´ï¼Œä½¿ç”¨UTCæ—¶åŒº |

### 9.2 ä¸šåŠ¡é£é™©
| é£é™©é¡¹ | å½±å“ | è§£å†³æ–¹æ¡ˆ |
|--------|------|----------|
| ç”¨æˆ·å¯¹é‡‘èé¢„æµ‹ä¸æ„Ÿå…´è¶£ | é«˜ | åŠ å¼ºæ¸¸æˆåŒ–è®¾è®¡ï¼Œé™ä½é—¨æ§› |
| é¢„æµ‹ç»“æœå»¶è¿Ÿç»“ç®— | ä¸­ | è‡ªåŠ¨åŒ–å®šæ—¶ä»»åŠ¡ï¼Œç¡®ä¿åŠæ—¶ç»“ç®— |
| æ•°æ®æºæ”¶è´¹æˆ–é™æµ | ä¸­ | é€‰æ‹©å¯é çš„å…è´¹æˆ–ä½æˆæœ¬æ•°æ®æº |

### 9.3 åˆè§„é£é™©
- âš ï¸ **é‡è¦æç¤º**ï¼šæœ¬åº”ç”¨ä¸ºé¢„æµ‹æ¸¸æˆï¼Œä¸æ¶‰åŠçœŸå®èµ„é‡‘äº¤æ˜“
- éœ€è¦æ˜ç¡®è¯´æ˜ï¼šæœ¬åº”ç”¨ä»…ä¾›å¨±ä¹ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®
- é¿å…ä½¿ç”¨"æŠ•èµ„"ã€"ç†è´¢"ç­‰æ•æ„Ÿè¯æ±‡

---

## 10. æˆåŠŸæŒ‡æ ‡

### 10.1 æ ¸å¿ƒæŒ‡æ ‡
- **DAU**ï¼ˆæ—¥æ´»è·ƒç”¨æˆ·ï¼‰ï¼šç›®æ ‡100+
- **é¢„æµ‹å‚ä¸ç‡**ï¼šæ¯æ—¥è‡³å°‘50%çš„ç”¨æˆ·æäº¤é¢„æµ‹
- **ç”¨æˆ·ç•™å­˜ç‡**ï¼š
  - æ¬¡æ—¥ç•™å­˜ > 40%
  - 7æ—¥ç•™å­˜ > 20%

### 10.2 äº§å“æŒ‡æ ‡
- **é¢„æµ‹å‡†ç¡®ç‡**ï¼šå¹³å‡ç”¨æˆ·å‡†ç¡®ç‡åœ¨45%-55%ä¹‹é—´ï¼ˆæ¥è¿‘éšæœºï¼‰
- **é¢„æµ‹æäº¤æ—¶é—´åˆ†å¸ƒ**ï¼šå‡åŒ€åˆ†å¸ƒåœ¨å¼€ç›˜åˆ°æ”¶ç›˜æœŸé—´
- **åŠŸèƒ½ä½¿ç”¨ç‡**ï¼šå†å²è®°å½•æŸ¥çœ‹ç‡ > 60%

---

## 11. é™„å½•

### 11.1 é»„é‡‘å¸‚åœºäº¤æ˜“æ—¶é—´ï¼ˆå‚è€ƒï¼‰
- äºšæ´²å¸‚åœºï¼šåŒ—äº¬æ—¶é—´ 08:00 - 16:00
- æ¬§æ´²å¸‚åœºï¼šåŒ—äº¬æ—¶é—´ 15:00 - 23:00
- ç¾å›½å¸‚åœºï¼šåŒ—äº¬æ—¶é—´ 20:00 - æ¬¡æ—¥04:00

**å»ºè®®æ”¶ç›˜æ—¶é—´**ï¼šåŒ—äº¬æ—¶é—´å‡Œæ™¨04:00ï¼ˆç¾å›½å¸‚åœºæ”¶ç›˜ï¼‰

### 11.2 æ•°æ®æºæ¨è
1. **Alpha Vantage**ï¼šå…è´¹é¢åº¦500æ¬¡/å¤©
   - API: https://www.alphavantage.co/
2. **Metals-API**ï¼šå…è´¹é¢åº¦100æ¬¡/æœˆ
   - API: https://metals-api.com/
3. **é‡‘ä»·ç½‘API**ï¼ˆå›½å†…ï¼‰ï¼šéœ€è¦ç”³è¯·
   - ç½‘ç«™: https://www.jinjiawang.com/

### 11.3 å‚è€ƒèµ„æ–™
- Luffa SuperBoxå¼€å‘æ–‡æ¡£ï¼šhttps://luffa.im/SuperBox/docs/
- å¾®ä¿¡å°ç¨‹åºå¼€å‘æ–‡æ¡£ï¼šhttps://developers.weixin.qq.com/miniprogram/dev/framework/
- é»„é‡‘ä»·æ ¼æ•°æ®æ ‡å‡†ï¼šISO 4217ï¼ˆè´§å¸ä»£ç ï¼šXAUï¼‰

---

## 12. æ›´æ–°è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ | ä½œè€… |
|------|------|----------|------|
| v1.0 | 2026-01-17 | åˆå§‹PRDæ–‡æ¡£åˆ›å»º | - |

---

**æ–‡æ¡£çŠ¶æ€**ï¼šDraftï¼ˆè‰ç¨¿ï¼‰
**æœ€åæ›´æ–°**ï¼š2026-01-17
**å®¡æ‰¹çŠ¶æ€**ï¼šå¾…å®¡æ‰¹
